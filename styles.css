:root{
  --bg:#0b0d10; --ink:#e8edf5; --dim:#9aa6b2;
  --panel:#151a20; --card:#171d24; --stroke:#1f2830;
  --accent:#00e676; --badge:#000000b3;
}

/* ===== Global & Background ===== */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); font-family:-apple-system,system-ui,Segoe UI,Roboto,Arial;
  background: var(--bg);
  overflow-x:hidden;
}
.bg{
  position:fixed; inset:0;
  background:url('assets/theme_b.jpg') center/cover no-repeat fixed;
  z-index:-2;
}
.scrim{
  position:fixed; inset:0;
  background: radial-gradient(1200px 700px at 50% -200px, #00000020, #000000b0 70%, #000000e0 100%);
  backdrop-filter: blur(6px); /* le flou que tu voulais */
  z-index:-1;
}

/* ===== Header ===== */
.appbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 14px;
  background:linear-gradient(180deg, #0b0d10, #0b0d10b0 80%, #0b0d1000);
  border-bottom:1px solid #00000040;
  backdrop-filter: blur(8px);
}
.brand{display:flex; align-items:center; gap:10px}
.logo{
  height:60px; width:auto; object-fit:contain; filter:drop-shadow(0 6px 16px #0008);
}
.titles{display:flex; flex-direction:column; line-height:1}
.app-title{margin:0; font-size:16px; font-weight:800}
.app-sub{margin:2px 0 0; font-size:12px; color:var(--dim)}
.dots{opacity:.5}

/* ===== Filtres ===== */
.filters{
  display:flex; gap:12px; padding:10px 14px;
}
.chip{
  flex:1; display:flex; align-items:center; justify-content:space-between; gap:8px;
  background:#20262d; color:var(--ink);
  border:1px solid var(--stroke); border-radius:22px; padding:12px 14px; font-weight:800;
}
.chev{opacity:.7}

/* ===== Grille produits ===== */
.grid{
  display:grid; gap:12px; padding:10px 14px 110px;
  grid-template-columns:repeat(2, minmax(0,1fr));
}
@media (min-width:760px){ .grid{grid-template-columns:repeat(3, minmax(0,1fr));} }
@media (min-width:1040px){ .grid{grid-template-columns:repeat(4, minmax(0,1fr));} }

.card{
  background:linear-gradient(180deg, #1b2129, #141920);
  border:1px solid var(--stroke);
  border-radius:14px; overflow:hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
}
.media{
  width:100%; height:200px; /* carré 200×200 */
  background:#0a0d11; position:relative;
}
.media>img, .media>video{
  width:100%; height:100%; object-fit:cover; display:block;
}
.badge{
  position:absolute; left:8px; top:8px;
  background:var(--badge); color:#fff; border:1px solid #ffffff20;
  padding:6px 10px; border-radius:999px; font-size:12px; font-weight:900;
}
.play{
  position:absolute; right:8px; top:8px; background:#00000090;
  color:#fff; border-radius:999px; padding:4px 8px; font-size:12px;
}
.meta{padding:10px 12px}
.title{margin:0 0 2px; font-weight:900}
.sub{margin:0; color:var(--dim)}
.price{margin-top:6px; font-weight:900}
.meta .btnAdd{
  margin-top:10px; width:100%;
  background:var(--accent); color:#000; border:0; border-radius:10px;
  padding:10px 12px; font-weight:900; cursor:pointer;
}

/* ===== Bottom Tabbar ===== */
.tabbar{
  position:fixed; left:0; right:0; bottom:0; z-index:8;
  display:flex; justify-content:space-around; padding:10px 0;
  background:linear-gradient(0deg, #0b0d10, #0b0d10a0);
  border-top:1px solid #00000040; backdrop-filter: blur(8px);
}
.tab{display:flex; flex-direction:column; align-items:center; gap:2px; color:#9fb3ff}
.tab .ico{font-size:18px}

/* ===== Bouton flottant (checkout) ===== */
.fab{
  position:fixed; left:50%; transform:translateX(-50%); bottom:74px; z-index:9;
  background:var(--accent); color:#000; border:0; border-radius:999px;
  padding:14px 18px; font-weight:900; box-shadow:0 10px 26px rgba(0,0,0,.35);
  min-width:260px;
}
.fab:disabled{opacity:.55; filter:grayscale(.6)}

/* ===== Lightbox ===== */
.lightbox{position:fixed; inset:0; background:#000b; display:none; align-items:center; justify-content:center; z-index:20}
.lightbox.open{display:flex}
.lb-stage{max-width:96vw; max-height:78vh; display:flex; align-items:center; justify-content:center}
.lb-stage img,.lb-stage video{max-width:96vw; max-height:78vh; border-radius:12px}
.lb-prev,.lb-next,.lb-close{
  position:absolute; border:0; background:#0000008a; color:#fff; border-radius:999px; width:42px; height:42px;
  display:flex; align-items:center; justify-content:center; font-size:22px
}
.lb-close{top:14px; right:14px}
.lb-prev{left:12px}
.lb-next{right:12px}
.lb-ind{position:absolute; bottom:16px; left:50%; transform:translateX(-50%); display:flex; gap:6px}
.lb-ind span{width:7px; height:7px; border-radius:50%; background:#ffffff50}
.lb-ind span.on{background:#fff}

/* ===== Sheet (checkout) ===== */
.sheet{position:fixed; inset:0; background:#0007; display:none; align-items:flex-end; justify-content:center; z-index:30}
.sheet.open{display:flex}
.sheet-card{
  width:100%; max-width:560px; background:var(--panel);
  border:1px solid var(--stroke); border-radius:16px 16px 0 0; padding:12px;
}
.sheet-head{display:flex; align-items:center; justify-content:space-between; padding:6px 4px 10px}
.sheet-head h3{margin:0; font-size:16px}
.sheet-head .x{background:#232a31; color:#fff; border:0; width:36px; height:36px; border-radius:10px; font-size:16px; cursor:pointer}
.sheet-body{display:grid; gap:10px}
.sheet-body label{display:flex; flex-direction:column; gap:6px; font-size:14px}
.sheet-body input,.sheet-body textarea{
  background:#0f1318; border:1px solid var(--stroke); border-radius:10px; color:var(--ink); padding:10px
}
.sheet-foot{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:10px}
.btn-primary{background:var(--accent); color:#000; border:0; border-radius:12px; padding:12px 16px; font-weight:900; cursor:pointer}
.sheet-total{font-weight:900}
.error{color:#ff6b6b; font-weight:800; min-height:18px}
